# Sofia Bot ‚Äî –ë–∞–∑–∞ –∑–Ω–∞–Ω–∏–π

> –í–∞–∂–Ω—ã–µ –Ω—é–∞–Ω—Å—ã, —Ä–µ—à–µ–Ω–∏—è –∏ –∫–æ–º–∞–Ω–¥—ã –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –ø—Ä–æ–µ–∫—Ç–æ–º

---

## üîë –ö–ª—é—á–µ–≤—ã–µ —Ä–µ—à–µ–Ω–∏—è

### –ú–æ–¥–µ–ª—å –¥–ª—è –±–æ—Ç–∞
- GPT-5.2 —Å reasoning_effort="xhigh", verbosity="low"
- –°—Ç–æ–∏–º–æ—Å—Ç—å: ~50-65 —Ä—É–±/–¥–∏–∞–ª–æ–≥

### –°–∏—Å—Ç–µ–º–∞ —Å–∞–º–æ–æ–±—É—á–µ–Ω–∏—è
```
–≠–∫—Å–ø–µ—Ä—Ç—ã —Å—Ç–∞–≤—è—Ç –æ—Ü–µ–Ω–∫–∏ ‚Üí 22:00 GPT –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç ‚Üí 
‚Üí –ù–æ–≤—ã–π –ø—Ä–æ–º–ø—Ç ‚Üí –ë—ç–∫–∞–ø ‚Üí –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ ‚Üí –†–µ—Å—Ç–∞—Ä—Ç ‚Üí Telegram-–æ—Ç—á—ë—Ç
```

### Skill-Based Assessment (–Ω–æ–≤–æ–µ!)
–û—Ü–µ–Ω–∫–∞ –¥–∏–∞–ª–æ–≥–æ–≤ –ø–æ 3 –Ω–µ–∑–∞–≤–∏—Å–∏–º—ã–º –Ω–∞–≤—ã–∫–∞–º:
| –ù–∞–≤—ã–∫ | –ß—Ç–æ –æ—Ü–µ–Ω–∏–≤–∞–µ—Ç—Å—è | –ü–æ—Ä–æ–≥ |
|-------|-----------------|-------|
| –ö–≤–∞–ª–∏—Ñ–∏–∫–∞—Ü–∏—è | –¶–µ–ª—å, –ª–æ–∫–∞—Ü–∏—è, –±—é–¥–∂–µ—Ç | >= 7/10 |
| –ó–∞–∫—Ä—ã—Ç–∏–µ | –°–æ–∑–≤–æ–Ω –ø—Ä–µ–¥–ª–æ–∂–µ–Ω, –≤—Ä–µ–º—è –Ω–∞–∑–Ω–∞—á–µ–Ω–æ | >= 7/10 |
| –í–æ–∑—Ä–∞–∂–µ–Ω–∏—è | –û—Ç—Ä–∞–±–æ—Ç–∞–Ω—ã –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–∏–≤–Ω–æ | >= 7/10 |

---

## üõ† –ß–∞—Å—Ç—ã–µ –∫–æ–º–∞–Ω–¥—ã
```bash
# –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ
ssh -p 2222 root@72.56.64.91
cd /opt/sofia-bot

# –°—Ç–∞—Ç—É—Å
systemctl status sofia-bot
python3 prompt_health.py

# –õ–æ–≥–∏
journalctl -u sofia-bot -f
tail -f sofia_bot.log

# –†—É—á–Ω–æ–π –∞–Ω–∞–ª–∏–∑
export $(cat .env | xargs) && python3 sofia_analyzer.py

# –ê–Ω–∞–ª–∏–∑ –¥–∏–∞–ª–æ–≥–æ–≤ –º–µ–Ω–µ–¥–∂–µ—Ä–æ–≤
cd scripts
python3 batch_process.py "./–¥–∏–∞–ª–æ–≥–∏" --llm --provider openai --api-key "KEY"

# –ü–∞—Ä–∞–º–µ—Ç—Ä—ã batch_process.py:
#   --llm-threshold N    ‚Äî –º–∏–Ω. –±–∞–ª–ª –¥–ª—è LLM-–æ—Ü–µ–Ω–∫–∏ (default: 4)
#   --provider openai    ‚Äî –∏–ª–∏ anthropic
#   -o output.jsonl      ‚Äî —Ñ–∞–π–ª —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤

# Git
git add -A && git commit -m "–æ–ø–∏—Å–∞–Ω–∏–µ" && git push
```

---

## üìä –ú–µ—Ç—Ä–∏–∫–∏ –∏ –ø–æ—Ä–æ–≥–∏

| –ú–µ—Ç—Ä–∏–∫–∞ | üü¢ –ù–æ—Ä–º–∞ | üü° –í–Ω–∏–º–∞–Ω–∏–µ | üî¥ –ü—Ä–æ–±–ª–µ–º–∞ |
|---------|----------|-------------|-------------|
| GOOD rate | > 80% | 65-80% | < 65% |
| –ö–≤–∞–ª–∏—Ñ–∏–∫–∞—Ü–∏—è | > 7/10 | 5-7 | < 5 |
| –ó–∞–∫—Ä—ã—Ç–∏–µ | > 7/10 | 5-7 | < 5 |
| –¢–æ–∫–µ–Ω—ã –ø—Ä–æ–º–ø—Ç–∞ | < 8k | 8-15k | > 15k |

**–¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ (20.12.2025):**
- GOOD rate: 57%
- –ö–≤–∞–ª–∏—Ñ–∏–∫–∞—Ü–∏—è –º–µ–Ω–µ–¥–∂–µ—Ä–æ–≤: 3.1/10 (–∫—Ä–∏—Ç–∏—á–Ω–æ!)
- –ó–∞–∫—Ä—ã—Ç–∏–µ: 6.1/10 (–Ω–æ—Ä–º–∞)

---

## ‚ùå –ì–ª–∞–≤–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã –º–µ–Ω–µ–¥–∂–µ—Ä–æ–≤

1. **95% –¥–∏–∞–ª–æ–≥–æ–≤ –±–µ–∑ –∫–≤–∞–ª–∏—Ñ–∏–∫–∞—Ü–∏–∏** ‚Äî —Å—Ä–∞–∑—É —Å–ø–∞–º—è—Ç –æ–±—ä–µ–∫—Ç–∞–º–∏
2. **–ù–µ –≤—ã—è—Å–Ω—è—é—Ç:** —Ü–µ–ª—å –ø–æ–∫—É–ø–∫–∏, –ª–æ–∫–∞—Ü–∏—é, –±—é–¥–∂–µ—Ç
3. **–°–ª–∞–±–∞—è –æ—Ç—Ä–∞–±–æ—Ç–∫–∞ –≤–æ–∑—Ä–∞–∂–µ–Ω–∏–π** ‚Äî —Ç–æ–ª—å–∫–æ 5% —Ö–æ—Ä–æ—à–∏—Ö –ø—Ä–∏–º–µ—Ä–æ–≤

### 3 –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ –∫–≤–∞–ª–∏—Ñ–∏–∫–∞—Ü–∏–∏
1. **–¶–µ–ª—å:** –∏–Ω–≤–µ—Å—Ç–∏—Ü–∏—è / –¥–ª—è —Å–µ–±—è / —Å–¥–∞–≤–∞—Ç—å / –ø–µ—Ä–µ–ø—Ä–æ–¥–∞–∂–∞
2. **–õ–æ–∫–∞—Ü–∏—è:** –°–æ—á–∏, –ö—Ä—ã–º, –ê–Ω–∞–ø–∞, –ê–ª—Ç–∞–π...
3. **–ë—é–¥–∂–µ—Ç:** –æ–±—â–∞—è —Å—É–º–º–∞ –∏–ª–∏ –∫–æ–º—Ñ–æ—Ä—Ç–Ω—ã–π –ø–ª–∞—Ç—ë–∂

---

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞
```
/opt/sofia-bot/
‚îú‚îÄ‚îÄ bot_server.py           # –ì–ª–∞–≤–Ω—ã–π –±–æ—Ç
‚îú‚îÄ‚îÄ sofia_prompt.py         # –ü—Ä–æ–º–ø—Ç v3.5
‚îú‚îÄ‚îÄ sofia_analyzer.py       # –ù–æ—á–Ω–æ–π –∞–Ω–∞–ª–∏–∑–∞—Ç–æ—Ä
‚îú‚îÄ‚îÄ prompt_health.py        # –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥
‚îú‚îÄ‚îÄ morning_ping.py         # –£—Ç—Ä–µ–Ω–Ω–∏–µ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è
‚îú‚îÄ‚îÄ sofia_conversations.db  # –ë–∞–∑–∞ –¥–∏–∞–ª–æ–≥–æ–≤
‚îú‚îÄ‚îÄ .env                    # –°–µ–∫—Ä–µ—Ç—ã
‚îú‚îÄ‚îÄ backups/                # –ë—ç–∫–∞–ø—ã –ø—Ä–æ–º–ø—Ç–æ–≤
‚îú‚îÄ‚îÄ analyzer_logs/          # –õ–æ–≥–∏ –∞–Ω–∞–ª–∏–∑–∞—Ç–æ—Ä–∞
‚îú‚îÄ‚îÄ scripts/                # –°–∫—Ä–∏–ø—Ç—ã –∞–Ω–∞–ª–∏–∑–∞
‚îÇ   ‚îú‚îÄ‚îÄ dialog_processor.py # –ü–∞—Ä—Å–∏–Ω–≥ + LLM-–æ—Ü–µ–Ω–∫–∞
‚îÇ   ‚îî‚îÄ‚îÄ batch_process.py    # –ü–∞–∫–µ—Ç–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞
‚îú‚îÄ‚îÄ CLAUDE.md               # –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç
‚îú‚îÄ‚îÄ SOFIA_CURRENT_TASK.md   # –¢–µ–∫—É—â–∏–µ –∑–∞–¥–∞—á–∏
‚îú‚îÄ‚îÄ SOFIA_KNOWLEDGE.md      # –≠—Ç–æ—Ç —Ñ–∞–π–ª
‚îú‚îÄ‚îÄ PROJECT_HISTORY.md      # –ò—Å—Ç–æ—Ä–∏—è
‚îî‚îÄ‚îÄ RESTORE.md              # –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ
```

---

## üë• –¢–µ—Å—Ç–∏—Ä–æ–≤—â–∏–∫–∏
- **–û–∫—Å–∞–Ω–∞** ‚Äî –≥–ª–∞–≤–Ω—ã–π —ç–∫—Å–ø–µ—Ä—Ç (–ê–∫–∞–¥–µ–º–∏—è –ë–µ–ª–æ—á–∫–∏–Ω–æ–π)
- –ì—É–ª—å–Ω–∞—Ä–∞, –õ–µ—Å—è, –î–∞—Ä—å—è, –≠–º–∏–ª–∏—è, –í–ª–∞–¥–∏–º–∏—Ä, –ê–Ω–∞—Å—Ç–∞—Å–∏—è, –ê–ª–µ–∫—Å–∞–Ω–¥—Ä

---

## üó£ –¢–µ—Ä–º–∏–Ω—ã (–ø—Ä–∞–≤–∏–ª—å–Ω–æ/–Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ)
- ‚ùå "–ø–æ–¥ —Å–¥–∞—á—É" ‚Üí ‚úÖ "–ø–∞—Å—Å–∏–≤–Ω—ã–π –¥–æ—Ö–æ–¥"
- ‚ùå –¥–ª–∏–Ω–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è ‚Üí ‚úÖ –∫–æ—Ä–æ—Ç–∫–∏–µ, —ë–º–∫–∏–µ
- ‚ùå "–¥–∞–Ω–Ω—ã–π –æ–±—ä–µ–∫—Ç" ‚Üí ‚úÖ "—ç—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç"
- ‚ùå "—Å—Ç–æ–∏–º–æ—Å—Ç—å —Å–æ—Å—Ç–∞–≤–ª—è–µ—Ç" ‚Üí ‚úÖ "–ø–æ—Ä—è–¥–∫–∞ X –º–∏–ª–ª–∏–æ–Ω–æ–≤"

---

*–û–±–Ω–æ–≤–ª–µ–Ω–æ: 20.12.2025*
